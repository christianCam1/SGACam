<html>

  <head>
    
    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script  src="js/validacionRol.js" defer></script>

<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
   <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
     <link rel="shortcut icon" href="favicon.ico?crc=489445559"/>
     <link rel="stylesheet" href="css/style_chat.css">
      
    <title>Notificaciones</title>
  </head>


  
    <div id="nav-placeholder">

    </div>
  
  <br><br><br><br>


  

  


<body >
  
  
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-functions.js"></script>

<script src="js/init.js"></script>


<br><br><br>
<div class="containter">
  
  <center>
  <div class="col-sm-6 ">

  <div class="card" >


  <h5>Notificaciones </h5>
  <br>

      <body>


      <button class="custom-button2" id="siguiente" onclick="notif_usuario()">Notificación prueba App Usuarios (Solo CaminanDog)</button>
       <br>

      <button class="custom-button2" id="siguiente" onclick="notif_paseador()">Notificación prueba App Paseadores (Solo app de juan y esteban)</button>
       <br>

      <button class="custom-button2" id="siguiente" onclick="notif_agenda()">Notificación real agenda</button>
       <br>

       <button class="custom-button2" id="siguiente" onclick="notif_solicitud()">Notificación real solicitud</button>
       <br><br>

       <h1> Notificación personalizada Candidato</h1>


       <div class="form-group">
    <label for="referencia" id="referenciaLabel">Enviar A:</label>
       <select id="referencia" class="form-control">
        <option disabled selected value> ----- </option>
       <option value="Candidatos">Candidato</option>
       <option value="Paseadores">Paseador</option>
       <option value="Usuarios">Usuario</option>

       </select>
  </div>

           <div class="form-group">
    <label for="uid" id="uidLabel">UID</label>
    <input type="text" class="form-control" id= "uid" placeholder="" />
  </div>


    <div class="form-group">
    <label for="titulo" id="tituloLabel">Titulo Notificación</label>
    <input type="text" class="form-control" id= "titulo" placeholder="" />
  </div>


  <div class="form-group ">
    <label for="contenido" id="contenidoLabel">Detalle Notificación</label>
    <input type="text" class="form-control" id= "contenido" placeholder="" />
  </div>

         <button class="custom-button2" id="siguiente" onclick="notif_personalizada_paseador()">Notificación personalizada</button>



      </body>
    </div>
    

</div>
</center>
  
</div>






    

<script>

function notif_usuario(){


var funcion = 'https://us-central1-caminandog-218818.cloudfunctions.net/notificacion_prueba_usuarios'


    fetch(funcion, {
        mode: 'no-cors'
    })
    .then(response =>  alert("Se ha enviado correctamente la notificacion"))
    .then(json => console.log(json))
    .catch(error => console.log('Authorization failed: ' + error.message))

}


function notif_paseador(){


var funcion = 'https://us-central1-caminandog-218818.cloudfunctions.net/notificacion_prueba_paseadores'


    fetch(funcion, {
        mode: 'no-cors'
    })
    .then(response =>  alert("Se ha enviado correctamente la notificacion"))
    .then(json => console.log(json))
    .catch(error => console.log('Authorization failed: ' + error.message))

}

function notif_agenda(){


var funcion = 'https://us-central1-caminandog-218818.cloudfunctions.net/notificacion_agenda?text={%22uid%22:%22moExA4KZolZrlXf0tAWeASQQNfr2%22}'


    fetch(funcion, {
        mode: 'no-cors'
    })
    .then(response =>  alert("Se ha enviado correctamente la notificacion"))
    .then(json => console.log(json))
    .catch(error => console.log('Authorization failed: ' + error.message))

}

function notif_solicitud(){


var funcion = 'https://us-central1-caminandog-218818.cloudfunctions.net/notificacion_solicitudes?text={%22uid%22:%22moExA4KZolZrlXf0tAWeASQQNfr2%22}'


    fetch(funcion, {
        mode: 'no-cors'
    })
    .then(response =>  alert("Se ha enviado correctamente la notificacion"))
    .then(json => console.log(json))
    .catch(error => console.log('Authorization failed: ' + error.message))

}


function notif_personalizada_paseador(){

var referencia = document.getElementById("referencia").value
var uid = document.getElementById("uid").value
var title = document.getElementById("titulo").value
var body = document.getElementById("contenido").value

var funcion = 'https://us-central1-caminandog-218818.cloudfunctions.net/notificacion_personalizada?text={%22uid%22:%22'+uid+'%22,%22title%22:%22'+title+'%22,%22body%22:%22'+body+'%22,%22ref%22:%22'+referencia+'%22}'


    fetch(funcion, {
        mode: 'no-cors'
    })
    .then(response =>  alert("Se ha enviado correctamente la notificacion"))
    .then(json => console.log(json))
    .catch(error => console.log('Authorization failed: ' + error.message))

}



</script>




<script>

  function cerrarSesion(){

  var r = confirm("¿Estas seguro que quieres cerrar sesión?");

  if (r == true) {
          firebase.auth().signOut().then(function() {
           // Sign-out successful.
            }).catch(function(error) {
            // An error happened.
            });
  } else {


  }

}


</script>

<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html